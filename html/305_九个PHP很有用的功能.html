<html>
 <head>
  <meta charset="utf-8"/>
  <link href="https://gmpg.org/xfn/11" rel="profile"/>
  <link href="https://coolshell.cn/xmlrpc.php" rel="pingback"/>
  <link href="/favicon.png" rel="shortcut icon"/>
  <link href="https://coolshell.cn/articles/2394.html" rel="canonical">
   <meta content="All in One SEO (AIOSEO) 4.3.6.1 " name="generator"/>
   <meta content="zh_CN" property="og:locale"/>
   <meta content="酷 壳 - CoolShell" property="og:site_name"/>
   <meta content="article" property="og:type"/>
   <meta content="九个PHP很有用的功能 | 酷 壳 - CoolShell" property="og:title"/>
   <meta content="https://coolshell.cn/articles/2394.html" property="og:url"/>
   <meta content="https://coolshell.cn/wp-content/uploads/2020/04/mini.logo_.png" property="og:image"/>
   <meta content="https://coolshell.cn/wp-content/uploads/2020/04/mini.logo_.png" property="og:image:secure_url"/>
   <meta content="306" property="og:image:width"/>
   <meta content="306" property="og:image:height"/>
   <meta content="2010-05-06T00:37:49+00:00" property="article:published_time"/>
   <meta content="2010-05-05T15:41:01+00:00" property="article:modified_time"/>
   <meta content="summary" name="twitter:card"/>
   <meta content="九个PHP很有用的功能 | 酷 壳 - CoolShell" name="twitter:title"/>
   <meta content="https://coolshell.cn/wp-content/uploads/2020/04/mini.logo_.png" name="twitter:image"/>
   <script class="aioseo-schema" type="application/ld+json">
    {"@context":"https:\/\/schema.org","@graph":[{"@type":"Article","@id":"https:\/\/coolshell.cn\/articles\/2394.html#article","name":"\u4e5d\u4e2aPHP\u5f88\u6709\u7528\u7684\u529f\u80fd | \u9177 \u58f3 - CoolShell","headline":"\u4e5d\u4e2aPHP\u5f88\u6709\u7528\u7684\u529f\u80fd","author":{"@id":"https:\/\/coolshell.cn\/articles\/author\/haoel#author"},"publisher":{"@id":"https:\/\/coolshell.cn\/#organization"},"image":{"@type":"ImageObject","url":"https:\/\/coolshell.cn\/wp-content\/uploads\/2020\/04\/mini.logo_.png","@id":"https:\/\/coolshell.cn\/#articleImage","width":306,"height":306},"datePublished":"2010-05-06T00:37:49+08:00","dateModified":"2010-05-05T15:41:01+08:00","inLanguage":"zh-CN","commentCount":26,"mainEntityOfPage":{"@id":"https:\/\/coolshell.cn\/articles\/2394.html#webpage"},"isPartOf":{"@id":"https:\/\/coolshell.cn\/articles\/2394.html#webpage"},"articleSection":"PHP\u811a\u672c, \u7f16\u7a0b\u8bed\u8a00, PHP"},{"@type":"BreadcrumbList","@id":"https:\/\/coolshell.cn\/articles\/2394.html#breadcrumblist","itemListElement":[{"@type":"ListItem","@id":"https:\/\/coolshell.cn\/#listItem","position":1,"item":{"@type":"WebPage","@id":"https:\/\/coolshell.cn\/","name":"\u4e3b\u9801","description":"\u4eab\u53d7\u7f16\u7a0b\u548c\u6280\u672f\u6240\u5e26\u6765\u7684\u5feb\u4e50 \u2013 https:\/\/coolshell.cn","url":"https:\/\/coolshell.cn\/"}}]},{"@type":"Organization","@id":"https:\/\/coolshell.cn\/#organization","name":"\u9177\u58f3-CoolShell","url":"https:\/\/coolshell.cn\/","logo":{"@type":"ImageObject","url":"https:\/\/coolshell.cn\/wp-content\/uploads\/2020\/04\/mini.logo_.png","@id":"https:\/\/coolshell.cn\/#organizationLogo","width":306,"height":306},"image":{"@id":"https:\/\/coolshell.cn\/#organizationLogo"}},{"@type":"Person","@id":"https:\/\/coolshell.cn\/articles\/author\/haoel#author","url":"https:\/\/coolshell.cn\/articles\/author\/haoel","name":"\u9648\u7693","image":{"@type":"ImageObject","@id":"https:\/\/coolshell.cn\/articles\/2394.html#authorImage","url":"https:\/\/secure.gravatar.com\/avatar\/af2fbb7372dd5826e44d87e6ceccea40?s=96&d=mm&r=g","width":96,"height":96,"caption":"\u9648\u7693"}},{"@type":"WebPage","@id":"https:\/\/coolshell.cn\/articles\/2394.html#webpage","url":"https:\/\/coolshell.cn\/articles\/2394.html","name":"\u4e5d\u4e2aPHP\u5f88\u6709\u7528\u7684\u529f\u80fd | \u9177 \u58f3 - CoolShell","inLanguage":"zh-CN","isPartOf":{"@id":"https:\/\/coolshell.cn\/#website"},"breadcrumb":{"@id":"https:\/\/coolshell.cn\/articles\/2394.html#breadcrumblist"},"author":{"@id":"https:\/\/coolshell.cn\/articles\/author\/haoel#author"},"creator":{"@id":"https:\/\/coolshell.cn\/articles\/author\/haoel#author"},"datePublished":"2010-05-06T00:37:49+08:00","dateModified":"2010-05-05T15:41:01+08:00"},{"@type":"WebSite","@id":"https:\/\/coolshell.cn\/#website","url":"https:\/\/coolshell.cn\/","name":"\u9177 \u58f3 - CoolShell","description":"\u4eab\u53d7\u7f16\u7a0b\u548c\u6280\u672f\u6240\u5e26\u6765\u7684\u5feb\u4e50 - Coding Your Ambition","inLanguage":"zh-CN","publisher":{"@id":"https:\/\/coolshell.cn\/#organization"}}]}
   </script>
   <script type="text/javascript">
    window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
			ga('create', "UA-7486123-1", { 'cookieDomain': 'coolshell.cn' } );
			ga('send', 'pageview');
   </script>
   <script async="" src="https://www.google-analytics.com/analytics.js">
   </script>
   <script type="text/javascript">
    window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/14.0.0\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/14.0.0\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/coolshell.cn\/wp-includes\/js\/wp-emoji-release.min.js?ver=6.2"}};
/*! This file is auto-generated */
!function(e,a,t){var n,r,o,i=a.createElement("canvas"),p=i.getContext&&i.getContext("2d");function s(e,t){p.clearRect(0,0,i.width,i.height),p.fillText(e,0,0);e=i.toDataURL();return p.clearRect(0,0,i.width,i.height),p.fillText(t,0,0),e===i.toDataURL()}function c(e){var t=a.createElement("script");t.src=e,t.defer=t.type="text/javascript",a.getElementsByTagName("head")[0].appendChild(t)}for(o=Array("flag","emoji"),t.supports={everything:!0,everythingExceptFlag:!0},r=0;r<o.length;r++)t.supports[o[r]]=function(e){if(p&&p.fillText)switch(p.textBaseline="top",p.font="600 32px Arial",e){case"flag":return s("\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f","\ud83c\udff3\ufe0f\u200b\u26a7\ufe0f")?!1:!s("\ud83c\uddfa\ud83c\uddf3","\ud83c\uddfa\u200b\ud83c\uddf3")&&!s("\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f","\ud83c\udff4\u200b\udb40\udc67\u200b\udb40\udc62\u200b\udb40\udc65\u200b\udb40\udc6e\u200b\udb40\udc67\u200b\udb40\udc7f");case"emoji":return!s("\ud83e\udef1\ud83c\udffb\u200d\ud83e\udef2\ud83c\udfff","\ud83e\udef1\ud83c\udffb\u200b\ud83e\udef2\ud83c\udfff")}return!1}(o[r]),t.supports.everything=t.supports.everything&&t.supports[o[r]],"flag"!==o[r]&&(t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&t.supports[o[r]]);t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&!t.supports.flag,t.DOMReady=!1,t.readyCallback=function(){t.DOMReady=!0},t.supports.everything||(n=function(){t.readyCallback()},a.addEventListener?(a.addEventListener("DOMContentLoaded",n,!1),e.addEventListener("load",n,!1)):(e.attachEvent("onload",n),a.attachEvent("onreadystatechange",function(){"complete"===a.readyState&&t.readyCallback()})),(e=t.source||{}).concatemoji?c(e.concatemoji):e.wpemoji&&e.twemoji&&(c(e.twemoji),c(e.wpemoji)))}(window,document,window._wpemojiSettings);
   </script>
   <script id="jquery-core-js" src="https://coolshell.cn/wp-includes/js/jquery/jquery.min.js?ver=3.6.3" type="text/javascript">
   </script>
   <script id="jquery-migrate-js" src="https://coolshell.cn/wp-includes/js/jquery/jquery-migrate.min.js?ver=3.4.0" type="text/javascript">
   </script>
   <script id="series-js" src="https://coolshell.cn/wp-content/plugins/simple-post-series/autohide.js?ver=2.4" type="text/javascript">
   </script>
   <script id="ez-toc-scroll-scriptjs-js-after" type="text/javascript">
    jQuery(document).ready(function(){document.querySelectorAll(".ez-toc-section").forEach(t=>{t.setAttribute("ez-toc-data-id","#"+decodeURI(t.getAttribute("id")))}),jQuery("a.ez-toc-link").click(function(){let t=jQuery(this).attr("href"),e=jQuery("#wpadminbar"),i=0;30>30&&(i=30),e.length&&(i+=e.height()),jQuery('[ez-toc-data-id="'+decodeURI(t)+'"]').length>0&&(i=jQuery('[ez-toc-data-id="'+decodeURI(t)+'"]').offset().top-i),jQuery("html, body").animate({scrollTop:i},500)})});
   </script>
   <!--[if lt IE 9]>
<script type='text/javascript' src='https://coolshell.cn/wp-content/themes/MyNisarg/js/html5shiv.js?ver=3.7.3' id='html5shiv-js'></script>
<![endif]-->
   <meta content="WordPress 6.2" name="generator"/>
   <script type="text/javascript">
    window._wp_rp_static_base_url = 'https://wprp.zemanta.com/static/';
	window._wp_rp_wp_ajax_url = "https://coolshell.cn/wp-admin/admin-ajax.php";
	window._wp_rp_plugin_version = '3.6.4';
	window._wp_rp_post_id = '2394';
	window._wp_rp_num_rel_posts = '6';
	window._wp_rp_thumbnails = true;
	window._wp_rp_post_title = '%E4%B9%9D%E4%B8%AAPHP%E5%BE%88%E6%9C%89%E7%94%A8%E7%9A%84%E5%8A%9F%E8%83%BD';
	window._wp_rp_post_tags = ['php', 'php%E8%84%9A%E6%9C%AC', '%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80', '2', 'byte', 'arrai', 'gt', '3', '5', 'world', '1', 'function', 'foo', '4', 'a', 'php', 'lt', 'echo'];
	window._wp_rp_promoted_content = true;
   </script>
  </link>
  <link href="//fonts.googleapis.com" rel="dns-prefetch"/>
  <link href="https://coolshell.cn/feed" rel="alternate" title="酷 壳 - CoolShell » Feed" type="application/rss+xml"/>
  <link href="https://coolshell.cn/comments/feed" rel="alternate" title="酷 壳 - CoolShell » 评论Feed" type="application/rss+xml"/>
  <link href="https://coolshell.cn/articles/2394.html/feed" rel="alternate" title="酷 壳 - CoolShell » 九个PHP很有用的功能评论Feed" type="application/rss+xml"/>
  <style type="text/css">
   img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 0.07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
  </style>
  <link href="https://coolshell.cn/wp-content/plugins/simple-post-series/inc/icomoon/style.css?ver=2.4" id="series_font-css" media="all" rel="stylesheet" type="text/css"/>
  <link href="https://coolshell.cn/wp-content/plugins/gutenberg/build/block-library/style.css?ver=15.7.0" id="wp-block-library-css" media="all" rel="stylesheet" type="text/css"/>
  <link href="https://coolshell.cn/wp-includes/css/classic-themes.min.css?ver=6.2" id="classic-theme-styles-css" media="all" rel="stylesheet" type="text/css"/>
  <style id="global-styles-inline-css" type="text/css">
   body{--wp--preset--color--black: #000000;--wp--preset--color--cyan-bluish-gray: #abb8c3;--wp--preset--color--white: #ffffff;--wp--preset--color--pale-pink: #f78da7;--wp--preset--color--vivid-red: #cf2e2e;--wp--preset--color--luminous-vivid-orange: #ff6900;--wp--preset--color--luminous-vivid-amber: #fcb900;--wp--preset--color--light-green-cyan: #7bdcb5;--wp--preset--color--vivid-green-cyan: #00d084;--wp--preset--color--pale-cyan-blue: #8ed1fc;--wp--preset--color--vivid-cyan-blue: #0693e3;--wp--preset--color--vivid-purple: #9b51e0;--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple: linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%);--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan: linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%);--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange: linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%);--wp--preset--gradient--luminous-vivid-orange-to-vivid-red: linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%);--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray: linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%);--wp--preset--gradient--cool-to-warm-spectrum: linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%);--wp--preset--gradient--blush-light-purple: linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%);--wp--preset--gradient--blush-bordeaux: linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%);--wp--preset--gradient--luminous-dusk: linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%);--wp--preset--gradient--pale-ocean: linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%);--wp--preset--gradient--electric-grass: linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%);--wp--preset--gradient--midnight: linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%);--wp--preset--font-size--small: 13px;--wp--preset--font-size--medium: 20px;--wp--preset--font-size--large: 36px;--wp--preset--font-size--x-large: 42px;--wp--preset--spacing--20: 0.44rem;--wp--preset--spacing--30: 0.67rem;--wp--preset--spacing--40: 1rem;--wp--preset--spacing--50: 1.5rem;--wp--preset--spacing--60: 2.25rem;--wp--preset--spacing--70: 3.38rem;--wp--preset--spacing--80: 5.06rem;--wp--preset--shadow--natural: 6px 6px 9px rgba(0, 0, 0, 0.2);--wp--preset--shadow--deep: 12px 12px 50px rgba(0, 0, 0, 0.4);--wp--preset--shadow--sharp: 6px 6px 0px rgba(0, 0, 0, 0.2);--wp--preset--shadow--outlined: 6px 6px 0px -3px rgba(255, 255, 255, 1), 6px 6px rgba(0, 0, 0, 1);--wp--preset--shadow--crisp: 6px 6px 0px rgba(0, 0, 0, 1);}:where(.is-layout-flex){gap: 0.5em;}body .is-layout-flow > .alignleft{float: left;margin-inline-start: 0;margin-inline-end: 2em;}body .is-layout-flow > .alignright{float: right;margin-inline-start: 2em;margin-inline-end: 0;}body .is-layout-flow > .aligncenter{margin-left: auto !important;margin-right: auto !important;}body .is-layout-constrained > .alignleft{float: left;margin-inline-start: 0;margin-inline-end: 2em;}body .is-layout-constrained > .alignright{float: right;margin-inline-start: 2em;margin-inline-end: 0;}body .is-layout-constrained > .aligncenter{margin-left: auto !important;margin-right: auto !important;}body .is-layout-constrained > :where(:not(.alignleft):not(.alignright):not(.alignfull)){max-width: var(--wp--style--global--content-size);margin-left: auto !important;margin-right: auto !important;}body .is-layout-constrained > .alignwide{max-width: var(--wp--style--global--wide-size);}body .is-layout-flex{display: flex;}body .is-layout-flex{flex-wrap: wrap;align-items: center;}body .is-layout-flex > *{margin: 0;}body .is-layout-grid{display: grid;}body .is-layout-grid > *{margin: 0;}:where(.wp-block-columns.is-layout-flex){gap: 2em;}.has-black-color{color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-color{color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-color{color: var(--wp--preset--color--white) !important;}.has-pale-pink-color{color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-color{color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-color{color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-color{color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-color{color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-color{color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-color{color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-color{color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-color{color: var(--wp--preset--color--vivid-purple) !important;}.has-black-background-color{background-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-background-color{background-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-background-color{background-color: var(--wp--preset--color--white) !important;}.has-pale-pink-background-color{background-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-background-color{background-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-background-color{background-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-background-color{background-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-background-color{background-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-background-color{background-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-background-color{background-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-background-color{background-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-background-color{background-color: var(--wp--preset--color--vivid-purple) !important;}.has-black-border-color{border-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-border-color{border-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-border-color{border-color: var(--wp--preset--color--white) !important;}.has-pale-pink-border-color{border-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-border-color{border-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-border-color{border-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-border-color{border-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-border-color{border-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-border-color{border-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-border-color{border-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-border-color{border-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-border-color{border-color: var(--wp--preset--color--vivid-purple) !important;}.has-vivid-cyan-blue-to-vivid-purple-gradient-background{background: var(--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple) !important;}.has-light-green-cyan-to-vivid-green-cyan-gradient-background{background: var(--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan) !important;}.has-luminous-vivid-amber-to-luminous-vivid-orange-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange) !important;}.has-luminous-vivid-orange-to-vivid-red-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-orange-to-vivid-red) !important;}.has-very-light-gray-to-cyan-bluish-gray-gradient-background{background: var(--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray) !important;}.has-cool-to-warm-spectrum-gradient-background{background: var(--wp--preset--gradient--cool-to-warm-spectrum) !important;}.has-blush-light-purple-gradient-background{background: var(--wp--preset--gradient--blush-light-purple) !important;}.has-blush-bordeaux-gradient-background{background: var(--wp--preset--gradient--blush-bordeaux) !important;}.has-luminous-dusk-gradient-background{background: var(--wp--preset--gradient--luminous-dusk) !important;}.has-pale-ocean-gradient-background{background: var(--wp--preset--gradient--pale-ocean) !important;}.has-electric-grass-gradient-background{background: var(--wp--preset--gradient--electric-grass) !important;}.has-midnight-gradient-background{background: var(--wp--preset--gradient--midnight) !important;}.has-small-font-size{font-size: var(--wp--preset--font-size--small) !important;}.has-medium-font-size{font-size: var(--wp--preset--font-size--medium) !important;}.has-large-font-size{font-size: var(--wp--preset--font-size--large) !important;}.has-x-large-font-size{font-size: var(--wp--preset--font-size--x-large) !important;}
:where(.wp-block-columns.is-layout-flex){gap: 2em;}
.wp-block-pullquote{font-size: 1.5em;line-height: 1.6;}
.wp-block-navigation a:where(:not(.wp-element-button)){color: inherit;}
  </style>
  <link href="https://coolshell.cn/wp-content/plugins/wp-postratings/css/postratings-css.css?ver=1.90.1" id="wp-postratings-css" media="all" rel="stylesheet" type="text/css"/>
  <link href="https://coolshell.cn/wp-content/plugins/wp-pagenavi/pagenavi-css.css?ver=2.70" id="wp-pagenavi-css" media="all" rel="stylesheet" type="text/css"/>
  <link href="https://coolshell.cn/wp-content/plugins/easy-table-of-contents/assets/css/screen.min.css?ver=2.0.48" id="ez-toc-css" media="all" rel="stylesheet" type="text/css"/>
  <style id="ez-toc-inline-css" type="text/css">
   div#ez-toc-container p.ez-toc-title {font-size: 120%;}div#ez-toc-container p.ez-toc-title {font-weight: 500;}div#ez-toc-container ul li {font-size: 95%;}div#ez-toc-container nav ul ul li ul li {font-size: %!important;}
.ez-toc-container-direction {direction: ltr;}.ez-toc-counter ul{counter-reset: item;}.ez-toc-counter nav ul li a::before {content: counters(item, ".", decimal) ". ";display: inline-block;counter-increment: item;flex-grow: 0;flex-shrink: 0;margin-right: .2em; float: left;}.ez-toc-widget-direction {direction: ltr;}.ez-toc-widget-container ul{counter-reset: item;}.ez-toc-widget-container nav ul li a::before {content: counters(item, ".", decimal) ". ";display: inline-block;counter-increment: item;flex-grow: 0;flex-shrink: 0;margin-right: .2em; float: left;}
  </style>
  <link href="https://coolshell.cn/wp-content/themes/MyNisarg/css/bootstrap.css?ver=6.2" id="bootstrap-css" media="all" rel="stylesheet" type="text/css"/>
  <link href="https://coolshell.cn/wp-content/themes/MyNisarg/style.css?ver=6.2" id="nisarg-style-css" media="all" rel="stylesheet" type="text/css"/>
  <style id="nisarg-style-inline-css" type="text/css">
   /* Color Scheme */

	/* Accent Color */

	a:active,
	a:hover,
	a:focus {
	    color: #009688;
	}

	.navbar-default .navbar-nav > li > a:hover, .navbar-default .navbar-nav > li > a:focus {
		color: #009688;
	}

	
	.navbar-default .navbar-nav > .active > a, .navbar-default .navbar-nav > .active > a:hover, .navbar-default .navbar-nav > .active > a:focus {
		color: #009688;			
	}

	@media (min-width: 768px){
		.navbar-default .navbar-nav > .active > a, .navbar-default .navbar-nav > .active > a:hover, .navbar-default .navbar-nav > .active > a:focus {
			border-top: 4px solid #009688;
		}		
	}

	.dropdown-menu > .active > a, .dropdown-menu > .active > a:hover, .dropdown-menu > .active > a:focus {	    
	    background-color: #009688;
	}


	.navbar-default .navbar-nav > .open > a, .navbar-default .navbar-nav > .open > a:hover, .navbar-default .navbar-nav > .open > a:focus {
		color: #009688;
	}

	.navbar-default .navbar-nav > li > .dropdown-menu > li > a:hover,
	.navbar-default .navbar-nav > li > .dropdown-menu > li > a:focus {
		color: #fff;
		background-color: #009688;
	}

	.navbar-default .navbar-nav .open .dropdown-menu > .active > a, .navbar-default .navbar-nav .open .dropdown-menu > .active > a:hover, .navbar-default .navbar-nav .open .dropdown-menu > .active > a:focus {
		background-color: #fff;
		color: #009688;
	}

	@media (max-width: 767px) {
		.navbar-default .navbar-nav .open .dropdown-menu > li > a:hover {
			background-color: #009688;
			color: #fff;
		}
	}

	.sticky-post{
	    background: #009688;
	    color:white;
	}
	
	.entry-title a:hover,
	.entry-title a:focus{
	    color: #009688;
	}

	.entry-header .entry-meta::after{
	    background: #009688;
	}

	.fa {
		color: #009688;
	}

	.btn-default{
		border-bottom: 1px solid #009688;
	}

	.btn-default:hover, .btn-default:focus{
	    border-bottom: 1px solid #009688;
	    background-color: #009688;
	}

	.nav-previous:hover, .nav-next:hover{
	    border: 1px solid #009688;
	    background-color: #009688;
	}

	.next-post a:hover,.prev-post a:hover{
	    color: #009688;
	}

	.posts-navigation .next-post a:hover .fa, .posts-navigation .prev-post a:hover .fa{
	    color: #009688;
	}


	#secondary .widget-title::after{
		background-color: #009688;
	    content: "";
	    position: absolute;
	    width: 75px;
	    display: block;
	    height: 4px;    
	    bottom: -15px;
	}

	#secondary .widget a:hover,
	#secondary .widget a:focus{
		color: #009688;
	}

	#secondary .widget_calendar tbody a {
	    background-color: #009688;
	    color: #fff;
	    padding: 0.2em;
	}

	#secondary .widget_calendar tbody a:hover{
	    background-color: #009688;
	    color: #fff;
	    padding: 0.2em;
	}
  </style>
  <link href="https://coolshell.cn/wp-content/themes/MyNisarg/font-awesome/css/font-awesome.min.css?ver=6.2" id="font-awesome-css" media="all" rel="stylesheet" type="text/css"/>
  <link href="//fonts.googleapis.com/css?family=Lato:400,300italic,700|Source+Sans+Pro:400,400italic" id="nisarggooglefonts-css" media="all" rel="stylesheet" type="text/css"/>
  <link href="https://coolshell.cn/wp-content/plugins/enlighter/cache/enlighterjs.min.css?ver=0cuVQBPCj0viGB0" id="enlighterjs-css" media="all" rel="stylesheet" type="text/css"/>
  <link href="https://coolshell.cn/wp-json/" rel="https://api.w.org/"/>
  <link href="https://coolshell.cn/wp-json/wp/v2/posts/2394" rel="alternate" type="application/json"/>
  <link href="https://coolshell.cn/xmlrpc.php?rsd" rel="EditURI" title="RSD" type="application/rsd+xml"/>
  <link href="https://coolshell.cn/wp-includes/wlwmanifest.xml" rel="wlwmanifest" type="application/wlwmanifest+xml"/>
  <link href="https://coolshell.cn/?p=2394" rel="shortlink"/>
  <link href="https://coolshell.cn/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fcoolshell.cn%2Farticles%2F2394.html" rel="alternate" type="application/json+oembed"/>
  <link href="https://coolshell.cn/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fcoolshell.cn%2Farticles%2F2394.html&amp;format=xml" rel="alternate" type="text/xml+oembed"/>
  <link href="https://coolshell.cn/wp-content/plugins/wordpress-23-related-posts-plugin/static/themes/vertical-m.css?version=3.6.4" rel="stylesheet"/>
  <style type="text/css">
   .site-header { background: #1d2b2d; }
  </style>
 </head>
 <body>
  <article class="post-content post-2394 post type-post status-publish format-standard hentry category-phpdev category-proglanguage tag-php" id="post-2394">
   <header class="entry-header">
    <span class="screen-reader-text">
     九个PHP很有用的功能
    </span>
    <h1 class="entry-title">
     九个PHP很有用的功能
    </h1>
    <div class="entry-meta">
     <h5 class="entry-date">
      <i class="fa fa-calendar-o">
      </i>
      <a href="https://coolshell.cn/articles/2394.html" rel="bookmark" title="08:37">
       <time class="entry-date" datetime="2010-05-06T08:37:49+08:00" pubdate="">
        2010年05月06日
       </time>
      </a>
      <span class="byline">
       <span class="sep">
       </span>
       <i class="fa fa-user">
       </i>
       <span class="author vcard">
        <a class="url fn n" href="https://coolshell.cn/articles/author/haoel" rel="author" title="View all posts by 陈皓">
         陈皓
        </a>
       </span>
      </span>
      <i class="fa fa-comments-o">
      </i>
      <span class="screen-reader-text">
       评论
      </span>
      <a class="comments-link" href="https://coolshell.cn/articles/2394.html#comments">
       26 条评论
      </a>
      <i class="fa fa-users" style="margin-left:10px;">
      </i>
      22,491 人阅读
     </h5>
    </div>
   </header>
   <div class="entry-content">
    <p>
     <script async="" crossorigin="anonymous" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3415450859608158">
     </script>
     下面是九个PHP中很有用的功能，不知道你用过了吗？
    </p>
    <div class="ez-toc-v2_0_48 counter-hierarchy ez-toc-counter ez-toc-grey ez-toc-container-direction" id="ez-toc-container">
     <div class="ez-toc-title-container">
      <p class="ez-toc-title">
       目录
      </p>
      <span class="ez-toc-title-toggle">
      </span>
     </div>
     <nav>
      <ul class="ez-toc-list ez-toc-list-level-1">
       <li class="ez-toc-page-1 ez-toc-heading-level-4">
        <a class="ez-toc-link ez-toc-heading-1" href="#1_%E5%87%BD%E6%95%B0%E7%9A%84%E4%BB%BB%E6%84%8F%E6%95%B0%E7%9B%AE%E7%9A%84%E5%8F%82%E6%95%B0" title="1. 函数的任意数目的参数">
         1. 函数的任意数目的参数
        </a>
       </li>
       <li class="ez-toc-page-1 ez-toc-heading-level-4">
        <a class="ez-toc-link ez-toc-heading-2" href="#2_%E4%BD%BF%E7%94%A8_Glob_%E6%9F%A5%E6%89%BE%E6%96%87%E4%BB%B6" title="2. 使用 Glob() 查找文件">
         2. 使用 Glob() 查找文件
        </a>
       </li>
       <li class="ez-toc-page-1 ez-toc-heading-level-4">
        <a class="ez-toc-link ez-toc-heading-3" href="#3_%E5%86%85%E5%AD%98%E4%BD%BF%E7%94%A8%E4%BF%A1%E6%81%AF" title="3. 内存使用信息">
         3. 内存使用信息
        </a>
       </li>
       <li class="ez-toc-page-1 ez-toc-heading-level-4">
        <a class="ez-toc-link ez-toc-heading-4" href="#4_CPU%E4%BD%BF%E7%94%A8%E4%BF%A1%E6%81%AF" title="4. CPU使用信息">
         4. CPU使用信息
        </a>
       </li>
       <li class="ez-toc-page-1 ez-toc-heading-level-4">
        <a class="ez-toc-link ez-toc-heading-5" href="#5_%E7%B3%BB%E7%BB%9F%E5%B8%B8%E9%87%8F" title="5. 系统常量">
         5. 系统常量
        </a>
       </li>
       <li class="ez-toc-page-1 ez-toc-heading-level-4">
        <a class="ez-toc-link ez-toc-heading-6" href="#6%E7%94%9F%E6%88%90%E5%94%AF%E4%B8%80%E7%9A%84ID" title="6.生成唯一的ID">
         6.生成唯一的ID
        </a>
       </li>
       <li class="ez-toc-page-1 ez-toc-heading-level-4">
        <a class="ez-toc-link ez-toc-heading-7" href="#7_%E5%BA%8F%E5%88%97%E5%8C%96" title="7. 序列化">
         7. 序列化
        </a>
       </li>
       <li class="ez-toc-page-1 ez-toc-heading-level-4">
        <a class="ez-toc-link ez-toc-heading-8" href="#8_%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%8E%8B%E7%BC%A9" title="8. 字符串压缩">
         8. 字符串压缩
        </a>
       </li>
       <li class="ez-toc-page-1 ez-toc-heading-level-4">
        <a class="ez-toc-link ez-toc-heading-9" href="#9_%E6%B3%A8%E5%86%8C%E5%81%9C%E6%AD%A2%E5%87%BD%E6%95%B0" title="9. 注册停止函数">
         9. 注册停止函数
        </a>
       </li>
      </ul>
     </nav>
    </div>
    <h4>
     <span class="ez-toc-section" id="1_%E5%87%BD%E6%95%B0%E7%9A%84%E4%BB%BB%E6%84%8F%E6%95%B0%E7%9B%AE%E7%9A%84%E5%8F%82%E6%95%B0">
     </span>
     <span>
      1. 函数的任意数目的参数
     </span>
     <span class="ez-toc-section-end">
     </span>
    </h4>
    <p>
     你可能知道PHP允许你定义一个默认参数的函数。但你可能并不知道PHP还允许你定义一个完全任意的参数的函数
    </p>
    <p>
     下面是一个示例向你展示了默认参数的函数：
    </p>
    <pre class="EnlighterJSRAW" data-enlighter-language="php">
// 两个默认参数的函数
function foo($arg1 = '', $arg2 = '') {

	echo "arg1: $arg1\n";
	echo "arg2: $arg2\n";

}

foo('hello','world');
/* 输出:
arg1: hello
arg2: world
*/

foo();
/* 输出:
arg1:
arg2:
*/
</pre>
    <p>
     现在我们来看一看一个不定参数的函数，其使用到了?
     <a href="http://us2.php.net/manual/en/function.func-get-args.php">
      func_get_args()
     </a>
     方法：
     <br/>
     <span id="more-2394">
     </span>
    </p>
    <pre class="EnlighterJSRAW" data-enlighter-language="php">
// 是的，形参列表为空
function foo() {

	// 取得所有的传入参数的数组
	$args = func_get_args();

	foreach ($args as $k =&gt; $v) {
		echo "arg".($k+1).": $v\n";
	}

}

foo();
/* 什么也不会输出 */

foo('hello');
/* 输出
arg1: hello
*/

foo('hello', 'world', 'again');
/* 输出
arg1: hello
arg2: world
arg3: again
*/
</pre>
    <h4>
     <span class="ez-toc-section" id="2_%E4%BD%BF%E7%94%A8_Glob_%E6%9F%A5%E6%89%BE%E6%96%87%E4%BB%B6">
     </span>
     <span>
      2.
     </span>
     使用 Glob() 查找文件
     <span class="ez-toc-section-end">
     </span>
    </h4>
    <p>
     很多PHP的函数都有一个比较长的自解释的函数名，但是，当你看到?
     <a href="http://us.php.net/manual/en/function.glob.php">
      glob()
     </a>
     的时候，你可能并不知道这个函数是用来干什么的，除非你对它已经很熟悉了。
    </p>
    <p>
     你可以认为这个函数就好?
     <a href="http://php.net/manual/en/function.scandir.php">
      scandir()
     </a>
     一样，其可以用来查找文件。
    </p>
    <pre class="EnlighterJSRAW" data-enlighter-language="php">
// 取得所有的后缀为PHP的文件
$files = glob('*.php');

print_r($files);
/* 输出:
Array
(
    [0] =&gt; phptest.php
    [1] =&gt; pi.php
    [2] =&gt; post_output.php
    [3] =&gt; test.php
)
*/
</pre>
    <p>
     你还可以查找多种后缀名
    </p>
    <pre class="EnlighterJSRAW" data-enlighter-language="php">
// 取PHP文件和TXT文件
$files = glob('*.{php,txt}', GLOB_BRACE);

print_r($files);
/* 输出:
Array
(
    [0] =&gt; phptest.php
    [1] =&gt; pi.php
    [2] =&gt; post_output.php
    [3] =&gt; test.php
    [4] =&gt; log.txt
    [5] =&gt; test.txt
)
*/
</pre>
    <p>
     你还可以加上路径：
    </p>
    <pre class="EnlighterJSRAW" data-enlighter-language="php">
$files = glob('../images/a*.jpg');

print_r($files);
/* 输出:
Array
(
    [0] =&gt; ../images/apple.jpg
    [1] =&gt; ../images/art.jpg
)
*/
</pre>
    <p>
     如果你想得到绝对路径，你可以调用?
     <a href="http://php.net/manual/en/function.realpath.php">
      realpath()
     </a>
     函数：
    </p>
    <pre class="EnlighterJSRAW" data-enlighter-language="php">
$files = glob('../images/a*.jpg');

// applies the function to each array element
$files = array_map('realpath',$files);

print_r($files);
/* output looks like:
Array
(
    [0] =&gt; C:\wamp\www\images\apple.jpg
    [1] =&gt; C:\wamp\www\images\art.jpg
)
*/
</pre>
    <h4>
     <span class="ez-toc-section" id="3_%E5%86%85%E5%AD%98%E4%BD%BF%E7%94%A8%E4%BF%A1%E6%81%AF">
     </span>
     <span>
      3.
     </span>
     内存使用信息
     <span class="ez-toc-section-end">
     </span>
    </h4>
    <p>
     观察你程序的内存使用能够让你更好的优化你的代码。
    </p>
    <p>
     PHP 是有垃圾回收机制的，而且有一套很复杂的内存管理机制。你可以知道你的脚本所使用的内存情况。要知道当前内存使用情况，你可以使用?
     <a href="http://us2.php.net/manual/en/function.memory-get-usage.php">
      memory_get_usage()
     </a>
     函数，如果你想知道使用内存的峰值，你可以调用
     <a href="http://us2.php.net/manual/en/function.memory-get-peak-usage.php">
      memory_get_peak_usage()
     </a>
     函数。
    </p>
    <pre class="EnlighterJSRAW" data-enlighter-language="php">
echo "Initial: ".memory_get_usage()." bytes \n";
/* 输出
Initial: 361400 bytes
*/

// 使用内存
for ($i = 0; $i &lt; 100000; $i++) {
	$array []= md5($i);
}

// 删除一半的内存
for ($i = 0; $i &lt; 100000; $i++) {
	unset($array[$i]);
}

echo "Final: ".memory_get_usage()." bytes \n";
/* prints
Final: 885912 bytes
*/

echo "Peak: ".memory_get_peak_usage()." bytes \n";
/* 输出峰值
Peak: 13687072 bytes
*/
</pre>
    <h4>
     <span class="ez-toc-section" id="4_CPU%E4%BD%BF%E7%94%A8%E4%BF%A1%E6%81%AF">
     </span>
     <span>
      4.
     </span>
     CPU使用信息
     <span class="ez-toc-section-end">
     </span>
    </h4>
    <p>
     使用?
     <a href="http://us2.php.net/manual/en/function.getrusage.php">
      getrusage()
     </a>
     函数可以让你知道CPU的使用情况。注意，这个功能在Windows下不可用。
    </p>
    <pre class="EnlighterJSRAW" data-enlighter-language="php">
print_r(getrusage());
/* 输出
Array
(
    [ru_oublock] =&gt; 0
    [ru_inblock] =&gt; 0
    [ru_msgsnd] =&gt; 2
    [ru_msgrcv] =&gt; 3
    [ru_maxrss] =&gt; 12692
    [ru_ixrss] =&gt; 764
    [ru_idrss] =&gt; 3864
    [ru_minflt] =&gt; 94
    [ru_majflt] =&gt; 0
    [ru_nsignals] =&gt; 1
    [ru_nvcsw] =&gt; 67
    [ru_nivcsw] =&gt; 4
    [ru_nswap] =&gt; 0
    [ru_utime.tv_usec] =&gt; 0
    [ru_utime.tv_sec] =&gt; 0
    [ru_stime.tv_usec] =&gt; 6269
    [ru_stime.tv_sec] =&gt; 0
)

*/
</pre>
    <p>
     这个结构看上出很晦涩，除非你对CPU很了解。下面一些解释：
    </p>
    <ul>
     <li>
      ru_oublock: 块输出操作
     </li>
     <li>
      ru_inblock: 块输入操作
     </li>
     <li>
      ru_msgsnd: 发送的message
     </li>
     <li>
      ru_msgrcv: 收到的message
     </li>
     <li>
      ru_maxrss: 最大驻留集大小
     </li>
     <li>
      ru_ixrss: 全部共享内存大小
     </li>
     <li>
      ru_idrss:全部非共享内存大小
     </li>
     <li>
      ru_minflt: 页回收
     </li>
     <li>
      ru_majflt: 页失效
     </li>
     <li>
      ru_nsignals: 收到的信号
     </li>
     <li>
      ru_nvcsw: 主动上下文切换
     </li>
     <li>
      ru_nivcsw: 被动上下文切换
     </li>
     <li>
      ru_nswap: 交换区
     </li>
     <li>
      ru_utime.tv_usec: 用户态时间 (microseconds)
     </li>
     <li>
      ru_utime.tv_sec: 用户态时间(seconds)
     </li>
     <li>
      ru_stime.tv_usec: 系统内核时间 (microseconds)
     </li>
     <li>
      ru_stime.tv_sec: 系统内核时间?(seconds)
     </li>
    </ul>
    <p>
     要看到你的脚本消耗了多少CPU，我们需要看看“用户态的时间”和“系统内核时间”的值。秒和微秒部分是分别提供的，您可以把微秒值除以100万，并把它添加到秒的值后，可以得到有小数部分的秒数。
    </p>
    <pre class="EnlighterJSRAW" data-enlighter-language="php">
// sleep for 3 seconds (non-busy)
sleep(3);

$data = getrusage();
echo "User time: ".
	($data['ru_utime.tv_sec'] +
	$data['ru_utime.tv_usec'] / 1000000);
echo "System time: ".
	($data['ru_stime.tv_sec'] +
	$data['ru_stime.tv_usec'] / 1000000);

/* 输出
User time: 0.011552
System time: 0
*/
</pre>
    <p>
     sleep是不占用系统时间的，我们可以来看下面的一个例子：
    </p>
    <pre class="EnlighterJSRAW" data-enlighter-language="php">
// loop 10 million times (busy)
for($i=0;$i&lt;10000000;$i++) {

}

$data = getrusage();
echo "User time: ".
	($data['ru_utime.tv_sec'] +
	$data['ru_utime.tv_usec'] / 1000000);
echo "System time: ".
	($data['ru_stime.tv_sec'] +
	$data['ru_stime.tv_usec'] / 1000000);

/* 输出
User time: 1.424592
System time: 0.004204
*/
</pre>
    <p>
     这花了大约14秒的CPU时间，几乎所有的都是用户的时间，因为没有系统调用。
    </p>
    <p>
     系统时间是CPU花费在系统调用上的上执行内核指令的时间。下面是一个例子：
    </p>
    <pre class="EnlighterJSRAW" data-enlighter-language="php">
$start = microtime(true);
// keep calling microtime for about 3 seconds
while(microtime(true) - $start &lt; 3) {

}

$data = getrusage();
echo "User time: ".
	($data['ru_utime.tv_sec'] +
	$data['ru_utime.tv_usec'] / 1000000);
echo "System time: ".
	($data['ru_stime.tv_sec'] +
	$data['ru_stime.tv_usec'] / 1000000);

/* prints
User time: 1.088171
System time: 1.675315
*/
</pre>
    <p>
     我们可以看到上面这个例子更耗CPU。
    </p>
    <h4>
     <span class="ez-toc-section" id="5_%E7%B3%BB%E7%BB%9F%E5%B8%B8%E9%87%8F">
     </span>
     <span>
      5.
     </span>
     系统常量
     <span class="ez-toc-section-end">
     </span>
    </h4>
    <p>
     PHP 提供非常有用的
     <a href="http://php.net/manual/en/language.constants.predefined.php">
      系统常量
     </a>
     可以让你得到当前的行号 (__LINE__)，文件 (__FILE__)，目录 (__DIR__)，函数名 (__FUNCTION__)，类名(__CLASS__)，方法名(__METHOD__) 和名字空间 (__NAMESPACE__)，很像C语言。
    </p>
    <p>
     我们可以以为这些东西主要是用于调试，当也不一定，比如我们可以在include其它文件的时候使用?__FILE__ (当然，你也可以在 PHP 5.3以后使用 __DIR__ )，下面是一个例子。
    </p>
    <pre class="EnlighterJSRAW" data-enlighter-language="php">
// this is relative to the loaded script's path
// it may cause problems when running scripts from different directories
require_once('config/database.php');

// this is always relative to this file's path
// no matter where it was included from
require_once(dirname(__FILE__) . '/config/database.php');
</pre>
    <p>
     下面是使用 __LINE__ 来输出一些debug的信息，这样有助于你调试程序：
    </p>
    <pre class="EnlighterJSRAW" data-enlighter-language="php">
// some code
// ...
my_debug("some debug message", __LINE__);
/* 输出
Line 4: some debug message
*/

// some more code
// ...
my_debug("another debug message", __LINE__);
/* 输出
Line 11: another debug message
*/

function my_debug($msg, $line) {
	echo "Line $line: $msg\n";
}
</pre>
    <h4>
     <span class="ez-toc-section" id="6%E7%94%9F%E6%88%90%E5%94%AF%E4%B8%80%E7%9A%84ID">
     </span>
     <span>
      6.生成唯一的ID
     </span>
     <span class="ez-toc-section-end">
     </span>
    </h4>
    <p>
     有很多人使用 md5() 来生成一个唯一的ID，如下所示：
    </p>
    <pre class="EnlighterJSRAW" data-enlighter-language="php">
// generate unique string
echo md5(time() . mt_rand(1,1000000));
</pre>
    <p>
     其实，PHP中有一个叫?
     <a href="http://us2.php.net/manual/en/function.uniqid.php">
      uniqid()
     </a>
     的函数是专门用来干这个的：
    </p>
    <pre class="EnlighterJSRAW" data-enlighter-language="php">
// generate unique string
echo uniqid();
/* 输出
4bd67c947233e
*/

// generate another unique string
echo uniqid();
/* 输出
4bd67c9472340
*/
</pre>
    <p>
     可能你会注意到生成出来的ID前几位是一样的，这是因为生成器依赖于系统的时间，这其实是一个非常不错的功能，因为你是很容易为你的这些ID排序的。这点MD5是做不到的。
    </p>
    <p>
     你还可以加上前缀避免重名：
    </p>
    <pre class="EnlighterJSRAW" data-enlighter-language="php">
// 前缀
echo uniqid('foo_');
/* 输出
foo_4bd67d6cd8b8f
*/

// 有更多的熵
echo uniqid('',true);
/* 输出
4bd67d6cd8b926.12135106
*/

// 都有
echo uniqid('bar_',true);
/* 输出
bar_4bd67da367b650.43684647
*/
</pre>
    <p>
     而且，生成出来的ID会比MD5生成的要短，这会让你节省很多空间。
    </p>
    <h4>
     <span class="ez-toc-section" id="7_%E5%BA%8F%E5%88%97%E5%8C%96">
     </span>
     <span>
      7.
     </span>
     序列化
     <span class="ez-toc-section-end">
     </span>
    </h4>
    <p>
     你是否会把一个比较复杂的数据结构存到数据库或是文件中？你并不需要自己去写自己的算法。PHP早已为你做好了，其提供了两个函数：?
     <a href="http://php.net/manual/en/function.serialize.php">
      serialize()
     </a>
     和
     <a href="http://www.php.net/manual/en/function.unserialize.php">
      unserialize()
     </a>
     :
    </p>
    <pre class="EnlighterJSRAW" data-enlighter-language="php">
// 一个复杂的数组
$myvar = array(
	'hello',
	42,
	array(1,'two'),
	'apple'
);

// 序列化
$string = serialize($myvar);

echo $string;
/* 输出
a:4:{i:0;s:5:"hello";i:1;i:42;i:2;a:2:{i:0;i:1;i:1;s:3:"two";}i:3;s:5:"apple";}
*/

// 反序例化
$newvar = unserialize($string);

print_r($newvar);
/* 输出
Array
(
    [0] =&gt; hello
    [1] =&gt; 42
    [2] =&gt; Array
        (
            [0] =&gt; 1
            [1] =&gt; two
        )

    [3] =&gt; apple
)
*/
</pre>
    <p>
     这是PHP的原生函数，然而在今天JSON越来越流行，所以在PHP5.2以后，PHP开始支持JSON，你可以使用 json_encode() 和 json_decode() 函数
    </p>
    <pre class="EnlighterJSRAW" data-enlighter-language="php">
// a complex array
$myvar = array(
	'hello',
	42,
	array(1,'two'),
	'apple'
);

// convert to a string
$string = json_encode($myvar);

echo $string;
/* prints
["hello",42,[1,"two"],"apple"]
*/

// you can reproduce the original variable
$newvar = json_decode($string);

print_r($newvar);
/* prints
Array
(
    [0] =&gt; hello
    [1] =&gt; 42
    [2] =&gt; Array
        (
            [0] =&gt; 1
            [1] =&gt; two
        )

    [3] =&gt; apple
)
*/
</pre>
    <p>
     这看起来更为紧凑一些了，而且还兼容于Javascript和其它语言。但是对于一些非常复杂的数据结构，可能会造成数据丢失。
    </p>
    <h4>
     <span class="ez-toc-section" id="8_%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%8E%8B%E7%BC%A9">
     </span>
     <span>
      8.
     </span>
     字符串压缩
     <span class="ez-toc-section-end">
     </span>
    </h4>
    <p>
     当我们说到压缩，我们可能会想到文件压缩，其实，字符串也是可以压缩的。PHP提供了?
     <a href="http://php.net/manual/en/function.gzcompress.php">
      gzcompress()
     </a>
     和
     <a href="http://www.php.net/manual/en/function.gzuncompress.php">
      gzuncompress()
     </a>
     函数：
    </p>
    <pre class="EnlighterJSRAW" data-enlighter-language="php">
$string =
"Lorem ipsum dolor sit amet, consectetur
adipiscing elit. Nunc ut elit id mi ultricies
adipiscing. Nulla facilisi. Praesent pulvinar,
sapien vel feugiat vestibulum, nulla dui pretium orci,
non ultricies elit lacus quis ante. Lorem ipsum dolor
sit amet, consectetur adipiscing elit. Aliquam
pretium ullamcorper urna quis iaculis. Etiam ac massa
sed turpis tempor luctus. Curabitur sed nibh eu elit
mollis congue. Praesent ipsum diam, consectetur vitae
ornare a, aliquam a nunc. In id magna pellentesque
tellus posuere adipiscing. Sed non mi metus, at lacinia
augue. Sed magna nisi, ornare in mollis in, mollis
sed nunc. Etiam at justo in leo congue mollis.
Nullam in neque eget metus hendrerit scelerisque
eu non enim. Ut malesuada lacus eu nulla bibendum
id euismod urna sodales. ";

$compressed = gzcompress($string);

echo "Original size: ". strlen($string)."\n";
/* 输出原始大小
Original size: 800
*/

echo "Compressed size: ". strlen($compressed)."\n";
/* 输出压缩后的大小
Compressed size: 418
*/

// 解压缩
$original = gzuncompress($compressed);
</pre>
    <p>
     几乎有
     <span style="font-family: Georgia, 'Times New Roman', 'Bitstream Charter', Times, serif; line-height: 19px; white-space: normal; font-size: 13px;">
      50% 压缩比率。同时，你还可以使用?
      <a href="http://www.php.net/manual/en/function.gzencode.php">
       gzencode()
      </a>
      和
      <a href="http://www.php.net/manual/en/function.gzdecode.php">
       gzdecode()
      </a>
      函数来压缩，只不用其用了不同的压缩算法。
     </span>
    </p>
    <h4>
     <span class="ez-toc-section" id="9_%E6%B3%A8%E5%86%8C%E5%81%9C%E6%AD%A2%E5%87%BD%E6%95%B0">
     </span>
     <span>
      9. 注册停止
     </span>
     函数
     <span class="ez-toc-section-end">
     </span>
    </h4>
    <p>
     有一个函数叫做?
     <a href="http://www.php.net/manual/en/function.register-shutdown-function.php">
      register_shutdown_function()
     </a>
     ，可以让你在整个脚本停时前运行代码。让我们看下面的一个示例：
    </p>
    <pre class="EnlighterJSRAW" data-enlighter-language="php">
// capture the start time
$start_time = microtime(true);

// do some stuff
// ...

// display how long the script took
echo "execution took: ".
		(microtime(true) - $start_time).
		" seconds.";
</pre>
    <p>
     上面这个示例只不过是用来计算某个函数运行的时间。然后，如果你在函数中间调用?
     <a href="http://php.net/manual/en/function.exit.php">
      exit()
     </a>
     函数，那么你的最后的代码将不会被运行到。并且，如果该脚本在浏览器终止（用户按停止按钮），其也无法被运行。
    </p>
    <p>
     而当我们使用了register_shutdown_function()后，你的程序就算是在脚本被停止后也会被运行：
    </p>
    <pre class="EnlighterJSRAW" data-enlighter-language="php">
$start_time = microtime(true);

register_shutdown_function('my_shutdown');

// do some stuff
// ...

function my_shutdown() {
	global $start_time;

	echo "execution took: ".
			(microtime(true) - $start_time).
			" seconds.";
}
</pre>
    <p>
     文章：
     <a href="http://net.tutsplus.com/tutorials/php/9-useful-php-functions-and-features-you-need-to-know/" target="_blank">
      来源
     </a>
    </p>
    <div style="margin-top: 15px; font-size: 16px;color: #cc0000;">
     <p align="center">
      <strong>
       （转载本站文章请注明作者和出处
       <a href="https://coolshell.cn/">
        酷 壳 – CoolShell
       </a>
       ，请勿用于任何商业用途）
      </strong>
     </p>
    </div>
    <div class="wp_rp_wrap wp_rp_vertical_m" id="wp_rp_first">
     <div class="wp_rp_content">
      <h3 class="related_post_title">
       相关文章
      </h3>
      <ul class="related_post wp_rp">
       <li>
        <a class="wp_rp_thumbnail" href="https://coolshell.cn/articles/7886.html">
         <img alt="代码执行的效率" height="150" src="https://coolshell.cn/wp-content/uploads/2012/07/muxnt-150x150.jpg" width="150"/>
        </a>
        <a class="wp_rp_title" href="https://coolshell.cn/articles/7886.html">
         代码执行的效率
        </a>
       </li>
       <li>
        <a class="wp_rp_thumbnail" href="https://coolshell.cn/articles/5224.html">
         <img alt="一些文章和各种资源" height="150" src="https://coolshell.cn/wp-content/uploads/2011/09/image008-150x150.jpg" width="150"/>
        </a>
        <a class="wp_rp_title" href="https://coolshell.cn/articles/5224.html">
         一些文章和各种资源
        </a>
       </li>
       <li>
        <a class="wp_rp_thumbnail" href="https://coolshell.cn/articles/5160.html">
         <img alt="PHP分页技术的代码和示例" height="150" src="https://coolshell.cn/wp-content/uploads/2011/08/Pagination-e1312791884744-150x150.jpg" width="150"/>
        </a>
        <a class="wp_rp_title" href="https://coolshell.cn/articles/5160.html">
         PHP分页技术的代码和示例
        </a>
       </li>
       <li>
        <a class="wp_rp_thumbnail" href="https://coolshell.cn/articles/4795.html">
         <img alt="开源中最好的Web开发的资源" height="150" src="https://coolshell.cn/wp-content/plugins/wordpress-23-related-posts-plugin/static/thumbs/7.jpg" width="150"/>
        </a>
        <a class="wp_rp_title" href="https://coolshell.cn/articles/4795.html">
         开源中最好的Web开发的资源
        </a>
       </li>
       <li>
        <a class="wp_rp_thumbnail" href="https://coolshell.cn/articles/3684.html">
         <img alt="Web开发人员速查卡" height="150" src="https://coolshell.cn/wp-content/uploads/2011/02/1128-150x150.jpg" width="150"/>
        </a>
        <a class="wp_rp_title" href="https://coolshell.cn/articles/3684.html">
         Web开发人员速查卡
        </a>
       </li>
       <li>
        <a class="wp_rp_thumbnail" href="https://coolshell.cn/articles/2053.html">
         <img alt="最为奇怪的程序语言的特性" height="150" src="https://coolshell.cn/wp-content/plugins/wordpress-23-related-posts-plugin/static/thumbs/20.jpg" width="150"/>
        </a>
        <a class="wp_rp_title" href="https://coolshell.cn/articles/2053.html">
         最为奇怪的程序语言的特性
        </a>
       </li>
      </ul>
     </div>
    </div>
    <div class="post-ratings" data-nonce="18e06db4d8" id="post-ratings-2394" itemscope="" itemtype="https://schema.org/Article">
     <img alt="好烂啊" id="rating_2394_1" onclick="rate_post();" onkeypress="rate_post();" onmouseout="ratings_off(4.2, 0, 0);" onmouseover="current_rating(2394, 1, '好烂啊');" src="https://coolshell.cn/wp-content/plugins/wp-postratings/images/stars_crystal/rating_on.gif" style="cursor: pointer; border: 0px;" title="好烂啊"/>
     <img alt="有点差" id="rating_2394_2" onclick="rate_post();" onkeypress="rate_post();" onmouseout="ratings_off(4.2, 0, 0);" onmouseover="current_rating(2394, 2, '有点差');" src="https://coolshell.cn/wp-content/plugins/wp-postratings/images/stars_crystal/rating_on.gif" style="cursor: pointer; border: 0px;" title="有点差"/>
     <img alt="凑合看看" id="rating_2394_3" onclick="rate_post();" onkeypress="rate_post();" onmouseout="ratings_off(4.2, 0, 0);" onmouseover="current_rating(2394, 3, '凑合看看');" src="https://coolshell.cn/wp-content/plugins/wp-postratings/images/stars_crystal/rating_on.gif" style="cursor: pointer; border: 0px;" title="凑合看看"/>
     <img alt="还不错" id="rating_2394_4" onclick="rate_post();" onkeypress="rate_post();" onmouseout="ratings_off(4.2, 0, 0);" onmouseover="current_rating(2394, 4, '还不错');" src="https://coolshell.cn/wp-content/plugins/wp-postratings/images/stars_crystal/rating_on.gif" style="cursor: pointer; border: 0px;" title="还不错"/>
     <img alt="很精彩" id="rating_2394_5" onclick="rate_post();" onkeypress="rate_post();" onmouseout="ratings_off(4.2, 0, 0);" onmouseover="current_rating(2394, 5, '很精彩');" src="https://coolshell.cn/wp-content/plugins/wp-postratings/images/stars_crystal/rating_off.gif" style="cursor: pointer; border: 0px;" title="很精彩"/>
     (
     <strong>
      18
     </strong>
     人打了分，平均分：
     <strong>
      4.22
     </strong>
     )
     <br/>
     <span class="post-ratings-text" id="ratings_2394_text">
     </span>
     <meta content="九个PHP很有用的功能" itemprop="name"/>
     <meta content="九个PHP很有用的功能" itemprop="headline"/>
     <meta content="下面是九个PHP中很有用的功能，不知道你用过了吗？
1. 函数的任意数目的参数
你可能知道PHP允许你定义一个默认参数的函数。但你可能并不知道PHP还允许你定义一个完全任意的参数的函数

下面是一个示例向你展示了默认参数的函数：

[php]
// 两个默认参数的函数
function foo($arg1 = '', $arg2 = '') {

	echo &quot;arg1: $a..." itemprop="description"/>
     <meta content="2010-05-06T08:37:49+08:00" itemprop="datePublished"/>
     <meta content="2010-05-05T23:41:01+08:00" itemprop="dateModified"/>
     <meta content="https://coolshell.cn/articles/2394.html" itemprop="url"/>
     <meta content="陈皓" itemprop="author"/>
     <meta content="https://coolshell.cn/articles/2394.html" itemprop="mainEntityOfPage"/>
     <div itemprop="publisher" itemscope="" itemtype="https://schema.org/Organization" style="display: none;">
      <meta content="酷 壳 - CoolShell" itemprop="name"/>
      <meta content="https://coolshell.cn" itemprop="url"/>
      <div itemprop="logo" itemscope="" itemtype="https://schema.org/ImageObject">
       <meta content="" itemprop="url"/>
      </div>
     </div>
     <div itemprop="aggregateRating" itemscope="" itemtype="https://schema.org/AggregateRating" style="display: none;">
      <meta content="5" itemprop="bestRating"/>
      <meta content="1" itemprop="worstRating"/>
      <meta content="4.22" itemprop="ratingValue"/>
      <meta content="18" itemprop="ratingCount"/>
     </div>
    </div>
    <div class="post-ratings-loading" id="post-ratings-2394-loading">
     <img class="post-ratings-image" height="16" src="https://coolshell.cn/wp-content/plugins/wp-postratings/images/loading.gif" width="16"/>
     Loading...
    </div>
   </div>
   <footer class="entry-footer">
    <hr/>
    <div class="row">
     <div class="col-md-6 cattegories">
      <span class="cat-links">
       <i class="fa fa-folder-open">
       </i>
       <a href="https://coolshell.cn/category/proglanguage/phpdev" rel="category tag">
        PHP脚本
       </a>
       ,
       <a href="https://coolshell.cn/category/proglanguage" rel="category tag">
        编程语言
       </a>
      </span>
     </div>
     <div class="col-md-6 tags">
      <span class="tags-links">
       <i class="fa fa-tags">
       </i>
       <a href="https://coolshell.cn/tag/php" rel="tag">
        PHP
       </a>
      </span>
     </div>
    </div>
   </footer>
  </article>
 </body>
</html>